function fireFire(){fire.once("value",function(e){console.log("fire",e.val());for(var a in e.val())console.log(a),caffeeList.fire[a]=e.val()[a];gigi.init()})}var gigi={},fire=new Firebase("https://luminous-inferno-2967.firebaseio.com"),caffeeList={};caffeeList.cafe={},caffeeList.fire={},fire.child("ChIJDZzo5DeuEmsRsi1wzrIp6HY").once("value",function(e){console.log("I fetched a user!",e.val())}),caffeeList.addCafe=function(e){return null===e||void 0===e||null===e.place_id||void 0===e.place_id?null:void 0===caffeeList.cafe[e.place_id]?(caffeeList.cafe[e.place_id]=e,e):null},caffeeList.getPrice=function(e){var a=caffeeList.fire[e];if(a){var i=0,r=0;for(var o in a)console.log(o),a[o].r>0&&(i+=a[o].r,r+=1);return i/r}return 0},gigi.init=function(){this.map=null,this.service=null,this.cafePlace=null,this.markers=[];var e={center:new google.maps.LatLng(-43.53,172.620278),zoom:15,mapTypeControl:!1,zoomControl:!1,streetViewControl:!1,mapMarker:!1,overviewMapControl:!1};this.map=new google.maps.Map(document.getElementById("map-canvas"),e),this.cafePlace=document.querySelector("my-cafe"),this.service=new google.maps.places.PlacesService(this.map),google.maps.event.addListener(this.map,"idle",this.performSearch)},gigi.performSearch=function(){console.log("perforem serarch");var e={bounds:gigi.map.getBounds(),keyword:"cafe"};gigi.service.radarSearch(e,gigi.callback)},gigi.callback=function(e,a){if(a===google.maps.places.PlacesServiceStatus.OK)for(var i=0;i<e.length;i+=1){var r=caffeeList.addCafe(e[i]);r&&gigi.createMarker(r)}},gigi.createMarker=function(e){var a=new MapLabel({text:"$"+caffeeList.getPrice(e.place_id),position:e.geometry.location,map:this.map,fontSize:15,align:"center",icon:"images/cafe.png"}),i=new google.maps.Marker({icon:"images/cafe.png"});i.bindTo("map",a),i.bindTo("position",a),this.markers.push(i);var r=this;google.maps.event.addListener(i,"click",function(){r.service.getDetails(e,function(e,a){a===google.maps.places.PlacesServiceStatus.OK&&(console.log(e),r.cafePlace.name=e.name,r.cafePlace.place_id=e.place_id)})})},gigi.setAllMap=function(e){for(var a=0;a<this.markers.length;a++)this.markers[a].setMap(e)},gigi.clearMarkers=function(){this.setAllMap(null)},gigi.showMarkers=function(){this.setAllMap(this.map)},gigi.deleteMarkers=function(){this.clearMarkers(),this.markers=[]},function(e){"use strict";var a=e.querySelector("#app");a.displayInstalledToast=function(){e.querySelector("#caching-complete").show()},a.addEventListener("dom-change",function(){console.log("Our app is ready to rock!")}),window.addEventListener("WebComponentsReady",function(){fireFire()}),a.onMenuSelect=function(){var a=e.querySelector("#paperDrawerPanel");a.narrow&&a.closeDrawer()}}(document);